<% contentFor('body') %>

<div class="container">
  <h1>Rafa's Shit</h1>
  <div class="row">
    <div class="col-sm-8">
      <div class="form-group">
        <label class="form-label">
          Mesas
        </label>
        <select id="mesas" class="form-control">
          <option value="0" >Mesa 0</option>
          <option value="1" >Mesa 1</option>
          <option value="2" >Mesa 2</option>
          <option value="3" >Mesa 3</option>
          <option value="4" >Mesa 4</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">
          Menu
        </label>
        <select id="menu" class="form-control">
          <option value="0" >Podrao da rita</option>
          <option value="1" >X-Burgue</option>
          <option value="2" >Misto Frio</option>
          <option value="3" >Melancia</option>
          <option value="4" >Pao Vegano</option>
        </select>
      </div>
      <!-- <div id="teste">

      </div> -->
      <button type="button" class="btn btn-dark" id="pedir">Call</button>
    </div>
  </div>
</div>
<script src="/socket.io/socket.io.js"></script>
<script>
  window.onload=()=>{
    const socket=io('http://localhost:3000');

    const mesas=document.getElementById('mesas');
    const menu=document.getElementById('menu');
    const pedir=document.getElementById('pedir');
    // const teste=document.getElementById('teste');

    pedir.addEventListener('click',()=>{
      let data={mesa:mesas.value,produto:menu.value};
      socket.emit('pedido',data);
    })








    
    // socket.on('teste',data=>{
    //   teste.innerHTML=data;
    // })

    // socket.on('painel',data=>{
    //   console.log(data.produto);
    // })

  }
</script>